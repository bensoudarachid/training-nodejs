webpackJsonp([1],{130:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=l(2),c=n(d),s=l(13),u=n(s),p=l(28),m=n(p),f=l(79),h=n(f),b=l(126),g=n(b);l(9),l(303);var v=function(e){function t(e){a(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.shouldComponentUpdate=m.default.shouldComponentUpdate.bind(l),l.state={edittraining:void 0},l}return r(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.auth,l=this.props.trainingappmap.get("edittraining"),n=(this.props.trainingappmap.get("isTrainingEditFetching"),this.props.trainingappmap.get("trainingEditError")),a=void 0==l?"":l.get("id"),o=void 0==l?"":l.get("title"),r=void 0==l?"":l.get("secondaryTitle"),i=void 0==l?"":l.get("shortDescription"),d=void 0==l?"":l.get("longDescription"),s=(void 0==l?"":l.get("duration"),void 0==l?"":l.get("needDeleteConfirmation"),void 0==l?"":l.get("error")),u=s?"error":"",p=void 0==l?"":l.get("saving");void 0==p&&(p=!1);var m=p?"disabled":"";return t.get("isAuthenticated")?void 0==l?c.default.createElement("span",null,c.default.createElement("span",{className:"mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active spinnerwrap",style:{width:"55px",height:"55px"}})):c.default.createElement("div",{className:"trainingedit blockborder"},c.default.createElement("form",{onSubmit:function(t){return e.handleSave(t)},noValidate:!0},c.default.createElement("span",{className:"mdl-grid mdl-grid--no-spacing"},c.default.createElement("span",{className:"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("div",{className:u},s)),c.default.createElement("span",{className:"mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},c.default.createElement(g.default,{api:"training",imgid:a,isUploading:p})),c.default.createElement("span",{className:"mdl-cell mdl-cell--10-col mdl-cell--6-col-tablet mdl-cell--3-col-phone fileuploadinput"},c.default.createElement(h.default,{id:"uploadfile-"+a,disabled:m,actions:this.props.actions})),c.default.createElement("span",{className:"mdl-cell mdl-cell--4-col mdl-cell--3-col-tablet mdl-cell--4-col-phone"},c.default.createElement("span",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},c.default.createElement("input",{className:"mdl-textfield__input "+m,ref:"title",type:"text",id:"title",name:"title",value:o,onChange:function(t){return e.handleTitleChange(t)},disabled:p}),c.default.createElement("label",{className:"mdl-textfield__label",htmlFor:"title"},"Title"),c.default.createElement("span",{className:"mdl-textfield__error",htmlFor:"title"},n.get("title")))),c.default.createElement("span",{className:"mdl-cell mdl-cell--8-col mdl-cell--5-col-tablet mdl-cell--4-col-phone"},c.default.createElement("span",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},c.default.createElement("input",{className:"mdl-textfield__input "+m,ref:"secondaryTitle",type:"text",id:"secondaryTitle",name:"secondaryTitle",value:r,onChange:function(t){return e.handleSecondaryTitleChange(t)},disabled:p}),c.default.createElement("label",{className:"mdl-textfield__label",htmlFor:"secondaryTitle"},"Secondary title"),c.default.createElement("span",{className:"mdl-textfield__error",htmlFor:"secondaryTitle"},n.get("secondaryTitle")))),c.default.createElement("span",{className:"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("span",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},c.default.createElement("input",{className:"mdl-textfield__input "+m,ref:"shortDescription",type:"text",id:"shortDescription",name:"shortDescription",value:i,onChange:function(t){return e.handleShortDescriptionChange(t)},disabled:p}),c.default.createElement("label",{className:"mdl-textfield__label",htmlFor:"shortDescription"},"Short description"),c.default.createElement("span",{className:"mdl-textfield__error",htmlFor:"shortDescription"},n.get("shortDescription")))),c.default.createElement("span",{className:"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("span",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},c.default.createElement("textarea",{className:"mdl-textfield__input "+m,ref:"longDescription",type:"text",id:"longDescription",name:"longDescription",rows:"7",value:d,onChange:function(t){return e.handleLongDescriptionChange(t)},disabled:p}),c.default.createElement("label",{className:"mdl-textfield__label",htmlFor:"longDescription"},"Long Description"),c.default.createElement("span",{className:"mdl-textfield__error",htmlFor:"longDescription"},n.get("longDescription"))))),c.default.createElement("br",null),c.default.createElement("div",{className:"footer"},p?c.default.createElement("div",{className:"mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active spinnerwrap"}):c.default.createElement("div",{key:"trainingeditbuttonsarenotrerenderedproperlyaftersubmit"+Math.random()},c.default.createElement("button",{type:"submit",className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored"},"Submit"),c.default.createElement("button",{onClick:function(t){return e.handleDelete(t)},className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored"},"Delete"))))):c.default.createElement("span",null,c.default.createElement("h1",null,"Needs authentication"))}},{key:"handleTitleChange",value:function(e){this.props.actions.handleTrainingEditChange("title",e.target.value)}},{key:"handleSecondaryTitleChange",value:function(e){this.props.actions.handleTrainingEditChange("secondaryTitle",e.target.value)}},{key:"handleShortDescriptionChange",value:function(e){this.props.actions.handleTrainingEditChange("shortDescription",e.target.value)}},{key:"handleLongDescriptionChange",value:function(e){this.props.actions.handleTrainingEditChange("longDescription",e.target.value)}},{key:"componentWillUnmount",value:function(){this.props.actions.loadEditTraining(void 0)}},{key:"componentDidMount",value:function(){l(8).upgradeDom(),t.fetchData(this.props.actions,this.props.params)}},{key:"componentDidUpdate",value:function(){l(8).upgradeDom();for(var e=this.props.trainingappmap.get("trainingEditError"),t=document.querySelectorAll(".mdl-textfield"),n=0,a=t.length;n<a;n++)void 0!=t[n].MaterialTextfield&&t[n].MaterialTextfield.checkDirty(),void 0!==e.get(t[n].MaterialTextfield.input_.id)?t[n].className+=" is-invalid":t[n].className=t[n].className.replace(" is-invalid"," ")}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.refs.title,l=this.refs.secondaryTitle,n=this.refs.shortDescription,a=this.refs.longDescription,o=this.props.trainingappmap.get("edittraining").get("id"),r=document.querySelector("#uploadfile-"+o),i={title:t.value.trim(),secondaryTitle:l.value.trim(),shortDescription:n.value.trim(),longDescription:a.value.trim()};i=this.props.trainingappmap.get("edittraining").merge(u.default.Map(i)),this.props.actions.updateTrainingDispatcher(i,this.props.trainingappmap.get("edittraining"),r.files[0])}},{key:"handleDelete",value:function(e){e.preventDefault(),this.props.actions.needActionConfirmation(!0,this.props.actions.deleteEditTrainingDispatcher,{})}}],[{key:"fetchData",value:function(e,t,l){return e.retrieveTrainingDispatcher(t,l)}}]),t}(c.default.Component);t.default=v},249:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=l(2),o=n(a),r=l(15),i=l(127),d=n(i),c=o.default.createElement(r.Route,{path:"trainings",getChildRoutes:function(e,t){t(null,[o.default.createElement(r.Route,{path:"item/:id",component:l(130).default}),o.default.createElement(r.Route,{path:"item/new",component:l(130).default})])}},o.default.createElement(r.IndexRoute,{component:d.default}));t.default=c},256:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=l(2),c=n(d);l(294);var s=function(e){function t(e){a(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={error:null},l}return r(t,e),i(t,[{key:"render",value:function(){var e=this.state.error?"error":"";return c.default.createElement("div",{id:"todocreate",className:"mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("form",{className:"mdl-grid mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone",onSubmit:this.handleCreate.bind(this)},c.default.createElement("div",{className:"mdl-cell mdl-cell--9-col mdl-cell--6-col-tablet mdl-cell--3-col-phone"},c.default.createElement("div",{className:"mdl-textfield tf mdl-js-textfield"},c.default.createElement("input",{className:"mdl-textfield__input",type:"text",ref:"createInput",id:"createInput"}),c.default.createElement("label",{className:"mdl-textfield__label",htmlFor:"createInput"},"New todo..."))),c.default.createElement("div",{className:"editsaveblock pad mdl-cell mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},c.default.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored right-items"},"Create"))),c.default.createElement("div",{className:"bgp editsaveblock pad mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("div",{className:e},this.state.error)))}},{key:"handleCreate",value:function(e){e.preventDefault();var t=this.refs.createInput,l=t.value,n=this.validateInput(l);return n?(this.setState({error:n}),void setTimeout(function(){this.setState({error:null})}.bind(this),3e3)):(this.setState({error:null}),this.props.actions.createTodo(l),void(this.refs.createInput.value=""))}},{key:"validateInput",value:function(e){return e?this.props.todos.find(function(t){return t.get("task")===e})?"Task already exists.":null:"Please enter a task."}}]),t}(c.default.Component);t.default=s},257:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=l(2),c=n(d),s=l(11),u=n(s),p=l(22),m=n(p),f=l(6),h=n(f),b=function(e){function t(e){a(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={imageLoaded:void 0},l}return r(t,e),i(t,[{key:"render",value:function(){var e=this.props.taskid,t=(this.props.isUploading,u.default.load("jwt"));return c.default.createElement("div",{className:"imgwrapper",id:"imgwrap"+e},c.default.createElement("div",{className:"mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active spinner"}),c.default.createElement("img",{id:"todolistitemimg"+e,src:"./images/0.png","data-src":m.default.apiurl+"/api/todo/img/"+e+"?access_token="+t,onLoad:this.handleImageLoaded.bind(this),onError:this.handleImageErrored.bind(this),className:"dataimg",alt:"coding"}))}},{key:"componentDidMount",value:function(){l(8).upgradeDom()}},{key:"componentDidUpdate",value:function(){l(8).upgradeAllRegistered();var e=this.props.taskid,t=(0,h.default)("#imgwrap"+e),n=t.find(".dataimg"),a=n[0];if(0==this.props.isUploading){var o=u.default.load("jwt");a.setAttribute("data-src",m.default.apiurl+"/api/todo/img/"+e+"?access_token="+o+"&rdparam="+Math.floor(1e4*Math.random()))}if(a.hasAttribute("data-src")){var r=t.find(".mdl-spinner");r[0].style.display="block",a.style.display="none",a.setAttribute("src",a.getAttribute("data-src")),a.removeAttribute("data-src")}}},{key:"handleImageLoaded",value:function(){var e=this.props.taskid,t=(0,h.default)("#imgwrap"+e),l=t.find(".mdl-spinner"),n=t.find(".dataimg"),a=n[0];a.hasAttribute("data-src")?this.setState({imageLoaded:!0}):(a.style.display="block","./images/0.png"!=a.getAttribute("src")&&(a.style.background="radial-gradient(circle closest-side at 50% 50%, white 0,  #69F 95%, transparent 100%)"),l[0].style.display="none")}},{key:"handleImageErrored",value:function(){var e=this.props.taskid,t=(0,h.default)("#imgwrap"+e),l=t.find(".mdl-spinner"),n=t.find(".dataimg"),a=n[0];l[0].style.display="none",a.setAttribute("src","./images/0.png")}},{key:"shouldComponentUpdate",value:function(e,t){var l=this.props.taskid,n=(0,h.default)("#imgwrap"+l),a=n.find(".dataimg"),o=a[0];return!!(o.hasAttribute("data-src")||this.props.isUploading&&!o.hasAttribute("data-src"))}}]),t}(c.default.Component);t.default=b},258:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=l(2),c=n(d);l(295);var s=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--3-col-phone"},c.default.createElement("div",{id:"todosfilter",className:"mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("div",{className:"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone checkboxinput"},c.default.createElement("label",{className:"mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect",htmlFor:"checkbox1"},c.default.createElement("input",{type:"checkbox",id:"checkbox1",className:"bgo mdl-checkbox__input",ref:"filterTodosOpen",defaultChecked:this.props.filteropen,onClick:this.handleFilterOpen.bind(this)}),c.default.createElement("span",{className:"mdl-checkbox__label"},"Open"))),c.default.createElement("div",{className:"mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone"},c.default.createElement("label",{className:"mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect checkboxinput",htmlFor:"checkbox2"},c.default.createElement("input",{type:"checkbox",id:"checkbox2",className:"bgr mdl-checkbox__input",ref:"filterTodosClosed",defaultChecked:this.props.filterclosed,onClick:this.handleFilterClosed.bind(this)}),c.default.createElement("span",{className:"mdl-checkbox__label"},"Closed")))))}},{key:"renderOld",value:function(){return c.default.createElement("div",{id:"todosfilter"},c.default.createElement("p",null,"open"),c.default.createElement("input",{type:"checkbox",ref:"filterOpen",defaultChecked:this.props.filteropen,onClick:this.handleFilterOpen.bind(this)}),c.default.createElement("p",null,"closed"),c.default.createElement("input",{type:"checkbox",ref:"filterTodosClosed",defaultChecked:this.props.filterclosed,onClick:this.handleFilterClosed.bind(this)}))}},{key:"handleFilterOpen",value:function(e){var t=e.target.checked;this.props.actions.filterTodosOpen(t)}},{key:"handleFilterClosed",value:function(e){var t=e.target.checked;this.props.actions.filterTodosClosed(t)}},{key:"validateInput",value:function(e){return e?this.props.todos.find(function(t){return t.get("task")===e})?"Task already exists":null:"Please enter a task."}}]),t}(c.default.Component);t.default=s},259:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=l(2),c=n(d),s=l(13),u=n(s),p=l(260),m=n(p),f=l(28),h=n(f);l(296);var b=function(e){function t(e){a(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.shouldComponentUpdate=h.default.shouldComponentUpdate.bind(l),l}return r(t,e),i(t,[{key:"componentDidMount",value:function(){l(8).upgradeDom()}},{key:"componentDidUpdate",value:function(){l(8).upgradeAllRegistered()}},{key:"getItems",value:function(){var e=this;return this.props.todos?this.props.todos.filter(function(t){return t.get("completed")&&e.props.filterclosed||!t.get("completed")&&e.props.filteropen}):u.default.List([])}},{key:"renderItems",value:function(){var e=this,t=this.getItems();return t.map(function(t,l){return c.default.createElement(m.default,{ind:l,todo:t,actions:e.props.actions})})}},{key:"render",value:function(){return c.default.createElement("div",{className:"todoslist"},void 0==this.props.todos?c.default.createElement("div",{className:"mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active",style:{width:"55px",height:"55px"}}):c.default.createElement("span",null,this.renderItems()))}}]),t}(c.default.Component);t.default=b},260:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=l(2),c=n(d),s=l(11),u=n(s),p=l(9),m=(n(p),l(79)),f=n(m),h=l(22),b=(n(h),l(6)),g=(n(b),l(257)),v=n(g);l(297);var y=function(e){function t(e){a(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={isEditing:!1},l}return r(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("div",{className:"mdl-grid todoslistitem blockborder center-items"},this.renderTaskForm()))}},{key:"componentDidMount",value:function(){l(8).upgradeDom()}},{key:"componentDidUpdate",value:function(){l(8).upgradeDom();for(var e=document.querySelectorAll(".mdl-textfield"),t=0,n=e.length;t<n;t++)e[t].MaterialTextfield.checkDirty();var a=this.props.ind;!this.state.hadFocus&&document.getElementById("taskInput"+a)&&(document.getElementById("taskInput"+a).focus(),this.setState({hadFocus:!0}))}},{key:"handleDelete",value:function(){this.props.actions.deleteTodoSrv(this.props.todo)}},{key:"handleUploadFile",value:function(e){e.preventDefault();var t=(u.default.load("jwt"),this.props.todo.get("id")),l=document.querySelector("#uploadfile-"+t),n=this.props.todo.set("mama","i m here");this.props.actions.uploadTodoFileDispatcher(n,this.props.todo,l.files[0])}},{key:"handleToggle",value:function(e){e.preventDefault();var t=this.props.todo.set("completed",!this.props.todo.get("completed"));this.setState({isEditing:!1}),this.props.actions.updateTodoDispatcher(t,this.props.todo)}},{key:"onSaveClick",value:function(e){e.preventDefault();var t=void 0;t=this.refs.taskInput.value;var l=this.props.todo.set("task",t);this.setState({isEditing:!1}),this.props.actions.updateTodoDispatcher(l,this.props.todo)}},{key:"onEditClick",value:function(){this.setState({isEditing:!0,hadFocus:!1})}},{key:"onCancelClick",value:function(){this.setState({isEditing:!1})}},{key:"renderTaskForm",value:function(){var e=(u.default.load("jwt"),this.props.todo.get("task")),t=this.props.todo.get("id"),l=this.props.ind,n=this.props.todo.get("completed"),a=this.props.todo.get("error"),o={color:n?"green":"red",cursor:"pointer"},r=this.props.todo.get("loading"),i=this.props.todo.get("isUploading"),d=r||a,s=a?"error":"",p=r?"center-items loading":"",m=r?c.default.createElement("div",{className:"loadingbar mdl-progress mdl-js-progress mdl-progress__indeterminate"}):"";return c.default.createElement("div",{className:"mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},this.state.isEditing?c.default.createElement("div",{className:"mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--7-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("form",{className:"pad mdl-grid mdl-cell mdl-cell--7-col mdl-cell--5-col-tablet mdl-cell--4-col-phone",onSubmit:this.onSaveClick.bind(this)},c.default.createElement("div",{className:"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("div",{className:"mdl-textfield tf mdl-js-textfield"},c.default.createElement("input",{className:"mdl-textfield__input",type:"text",defaultValue:e,name:"taskInput"+l,ref:"taskInput",id:"taskInput"+l}),c.default.createElement("label",{className:"mdl-textfield__label",htmlFor:"taskInput"+l},"Task...")))),c.default.createElement("div",{className:"editsaveblock pad mdl-cell mdl-cell--5-col mdl-cell--3-col-tablet mdl-cell--4-col-phone"},c.default.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored right-items",onClick:this.onCancelClick.bind(this),disabled:d},"Cancel"),c.default.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored savebutton right-items",onClick:this.onSaveClick.bind(this),disabled:d},"Save"))):c.default.createElement("div",{className:"mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--7-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("div",{className:"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("div",{className:s},a)),c.default.createElement("div",{className:"mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("div",{className:p},m)),c.default.createElement("form",{className:"pad mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--7-col mdl-cell--5-col-tablet mdl-cell--4-col-phone",onSubmit:this.onSaveClick.bind(this)},c.default.createElement("div",{className:"mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--4-col-phone",style:o,onClick:this.handleToggle.bind(this)},c.default.createElement("p",null,e))),c.default.createElement("div",{className:"editsaveblock pad mdl-cell mdl-cell--5-col mdl-cell--3-col-tablet mdl-cell--4-col-phone"},c.default.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored right-items",onClick:this.handleDelete.bind(this),disabled:d},"Delete"),c.default.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored editbutton active right-items",onClick:this.onEditClick.bind(this),disabled:d},"Edit"))),c.default.createElement("div",{className:"mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--5-col mdl-cell--8-col-tablet mdl-cell--4-col-phone"},c.default.createElement("form",{className:"pad mdl-grid mdl-grid--no-spacing mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone",onSubmit:this.handleUploadFile.bind(this)},c.default.createElement("div",{className:"mdl-cell mdl-cell--7-col mdl-cell--6-col-tablet mdl-cell--2-col-phone"},c.default.createElement(f.default,{id:"uploadfile-"+this.props.todo.get("id"),disabled:d,actions:this.props.actions})),c.default.createElement("div",{className:"mdl-cell mdl-cell--5-col mdl-cell--2-col-tablet mdl-cell--2-col-phone"},c.default.createElement(v.default,{ref:"uploadcomp",taskid:t,isUploading:i}),c.default.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored right-items",type:"submit",value:"Upload",disabled:d},"Upload")))))}}]),t}(c.default.Component);t.default=y},261:function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),d=l(256),c=n(d),s=l(258),u=n(s),p=l(2),m=n(p),f=l(259),h=n(f),b=l(11),g=(n(b),l(28)),v=n(g);l(9),l(298);var y=function(e){function t(e){a(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.shouldComponentUpdate=v.default.shouldComponentUpdate.bind(l),l}return r(t,e),i(t,[{key:"componentDidMount",value:function(){t.fetchData(this.props.actions)}},{key:"render",value:function(){var e=this.props.auth,t=!0;return t?m.default.createElement("div",null,e.get("isAuthenticated")?m.default.createElement("div",{className:"todoapp"},m.default.createElement("div",{className:"mdl-grid mdl-grid--no-spacing blockborder parampanel"},m.default.createElement(u.default,{filteropen:this.props.todoappmap.get("filterOpen"),filterclosed:this.props.todoappmap.get("filterClosed"),actions:this.props.actions}),m.default.createElement(c.default,{todos:this.props.todoappmap.get("todos"),actions:this.props.actions})),m.default.createElement(h.default,{todos:this.props.todoappmap.get("todos"),filteropen:this.props.todoappmap.get("filterOpen"),filterclosed:this.props.todoappmap.get("filterClosed"),actions:this.props.actions})):m.default.createElement("div",null,m.default.createElement("h1",null,"Needs authentication"))):m.default.createElement("div",null)}},{key:"renderOld",value:function(){var e=!0;if(!e)return m.default.createElement("div",null);var t=this.props.auth;return m.default.createElement("div",{id:"todoapp"},!t.get("isAuthenticated")&&m.default.createElement("div",null,"No right access here. Please login"),t.get("isAuthenticated")&&m.default.createElement("div",null,m.default.createElement("div",{className:"mdl-grid mdl-grid--no-spacing blockborder parampanel"},m.default.createElement(u.default,{filteropen:this.props.todoappmap.get("filterOpen"),filterclosed:this.props.todoappmap.get("filterClosed"),actions:this.props.actions}),m.default.createElement(c.default,{todos:this.props.todoappmap.get("todos"),actions:this.props.actions})),m.default.createElement(h.default,{todos:this.props.todoappmap.get("todos"),filteropen:this.props.todoappmap.get("filterOpen"),filterclosed:this.props.todoappmap.get("filterClosed"),actions:this.props.actions})))}},{key:"handleCreate",value:function(e){e.preventDefault();var t=this.refs.createInput,l=t.value,n=this.validateInput(l);return n?void this.setState({error:n}):(this.setState({error:null}),this.props.actions.createTodo(l),void(this.refs.createInput.value=""))}},{key:"validateInput",value:function(e){return e?this.props.todos.find(function(t){return t.get("task")===e})?"Task already exists.":null:"Please enter a task."}},{key:"handleFilterOpen",value:function(e){var t=e.target.checked;this.props.actions.filterTodosOpen(t)}},{key:"handleFilterClosed",value:function(e){var t=e.target.checked;this.props.actions.filterTodosClosed(t)}},{key:"validateInput",value:function(e){return e?this.props.todos.find(function(t){return t.get("task")===e})?"Task already exists.":null:"Please enter a task."}},{key:"renderError",value:function(){return this.state.error?m.default.createElement("div",{style:{color:"red"}},this.state.error):null}}],[{key:"fetchData",value:function(e,t,l){e.retrieveUserTodosDispatcher()}}]),t}(p.Component);t.default=y},294:function(e,t){},295:function(e,t){},296:function(e,t){},297:function(e,t){},298:function(e,t){},303:function(e,t){}});
//# sourceMappingURL=1.bundle.js.map